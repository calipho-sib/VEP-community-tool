(this["webpackJsonpvep-community-tool"]=this["webpackJsonpvep-community-tool"]||[]).push([[0],{110:function(t,e,n){},111:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(14),o=n.n(r),s=(n(51),n(7)),l=n(5),c=n(13),d=[{APIRef:"sequence",metadata:{name:"Sequence"}},{APIRef:"beta-strand",metadata:{name:"Beta strand",className:"betastrand",color:"#B3F0C2",type:"rect",filter:"Secondary structure"}},{APIRef:"helix",metadata:{name:"Helix",className:"helix",color:"#B3F0D1",type:"rect",filter:"Secondary structure"}},{APIRef:"turn",metadata:{name:"Turn",className:"turn",color:"#B3F0E1",type:"rect",filter:"Secondary structure"}},{APIRef:"signal-peptide",metadata:{name:"Signal peptide",className:"sign",color:"#B3B3E1",type:"rect",filter:"Processing"}},{APIRef:"propeptide",metadata:{name:"Propeptide",className:"pro",color:"#B3B3B3",type:"rect",filter:"Processing"}},{APIRef:"mature-protein",metadata:{name:"Mature protein",className:"mat",color:"#B3B3C2",type:"rect",filter:"Processing"}},{APIRef:"initiator-methionine",metadata:{name:"Initiator Met",className:"initMeth",color:"#B3B3D1",type:"unique",filter:"Processing"}},{APIRef:"peroxisome-transit-peptide",metadata:{name:"Transit peptide",className:"pero",color:"#B3B3F0",type:"rect",filter:"Processing"}},{APIRef:"mitochondrial-transit-peptide",metadata:{name:"Transit peptide",className:"mito",color:"#B3B3F0",type:"rect",filter:"Processing"}},{APIRef:"domain",metadata:{name:"Domain",className:"domain",color:"#B3C2C2",type:"rect",filter:"Region"}},{APIRef:"miscellaneous-region",metadata:{name:"Region",className:"miscregion",color:"#B3C2B3",type:"rect",filter:"Region"}},{APIRef:"repeat",metadata:{name:"Repeat",className:"repeat",color:"#98B7D5",type:"rect",filter:"Region"}},{APIRef:"calcium-binding-region",metadata:{name:"Calcium binding",className:"calcium",color:"#B3C2E1",type:"rect",filter:"Region"}},{APIRef:"zinc-finger-region",metadata:{name:"Zinc finger",className:"calcium",color:"#B3C2E1",type:"rect",filter:"Region"}},{APIRef:"dna-binding-region",metadata:{name:"DNA binding",className:"dnabind",color:"#B3C2FF",type:"rect",filter:"Region"}},{APIRef:"nucleotide-phosphate-binding-region",metadata:{name:"Nucleotide binding",className:"nucleobind",color:"#B3D1B3",type:"rect",filter:"Region"}},{APIRef:"coiled-coil-region",metadata:{name:"Coiled-coil",className:"coiledcoil",color:"#B3D1C2",type:"rect",filter:"Region"}},{APIRef:"short-sequence-motif",metadata:{name:"Sequence motif",className:"motif",color:"#B3D1D1",type:"rect",filter:"Region"}},{APIRef:"compositionally-biased-region",metadata:{name:"Composition bias",className:"biased",color:"#B3D1E1",type:"rect",filter:"Region"}},{APIRef:"interacting-region",metadata:{name:"Interacting region",className:"intReg",color:"#B3D1F0",type:"rect",filter:"Region"}},{APIRef:"interaction-mapping",metadata:{name:"Exp. interaction",className:"intregion",color:"#B3E1D1",type:"rect",filter:"Region"}},{APIRef:"topological-domain",metadata:{name:"Topological domain",className:"topodomain",color:"#A5DBA5",type:"rect",filter:"Topology"}},{APIRef:"transmembrane-region",metadata:{name:"Membrane",className:"membrane",color:"#A5DBB7",type:"rect",filter:"Topology"}},{APIRef:"intramembrane-region",metadata:{name:"Membrane",className:"intramembrane",color:"#A5DBB7",type:"rect",filter:"Topology"}},{APIRef:"disulfide-bond",metadata:{name:"Disulfide bond",className:"dsB",color:"#B3B3E1",type:"path",filter:"Modified Residue"}},{APIRef:"modified-residue",metadata:{name:"Modified residue",className:"modifRes",color:"#B3C2B3",type:"unique",filter:"Modified Residue"}},{APIRef:"cross-link",metadata:{name:"Cross-link",className:"crossLink",color:"#B3C2C2",type:"unique",filter:"Modified Residue"}},{APIRef:"glycosylation-site",metadata:{name:"Glycosylation",className:"glycoSite",color:"#74E374",type:"unique",filter:"Modified Residue"}},{APIRef:"lipidation-site",metadata:{name:"Lipidation",className:"lipidation",color:"#A3B5DB",type:"unique",filter:"Modified Residue"}},{APIRef:"selenocysteine",metadata:{name:"Non-standard AA",className:"seleno",color:"#859DE7",type:"unique",filter:"Modified Residue"}},{APIRef:"miscellaneous-site",metadata:{name:"Site",className:"site",color:"#B3F0E1",type:"unique",filter:"Site"}},{APIRef:"active-site",metadata:{name:"Active site",className:"actSite",color:"#B3F0F0",type:"unique",filter:"Site"}},{APIRef:"binding-site",metadata:{name:"Binding site",className:"bindsite",color:"#82E6FF",type:"unique",filter:"Site"}},{APIRef:"cleavage-site",metadata:{name:"Cleavage site",className:"cleavsite",color:"#B3FFB3",type:"unique",filter:"Site"}},{APIRef:"metal-binding-site",metadata:{name:"Metal binding",className:"metal",color:"#B3FFC2",type:"unique",filter:"Site"}},{APIRef:"variant",metadata:{name:"Variant",className:"variant",color:"rgba(0,255,154,0.3)",type:"unique",filter:"Variant"}},{APIRef:"mutagenesis",metadata:{name:"Mutagenesis",className:"mutagenesis",color:"#73FFE3",type:"unique",filter:"Variant"}},{APIRef:"sequence-conflict",metadata:{name:"Conflict",className:"seqconflict",color:"#6FFFFF",type:"unique",filter:"Conflict"}},{APIRef:"peptide-mapping",metadata:{name:"Peptide",className:"pep",color:"#B3E1D1",type:"rect",filter:"Peptide",height:8}},{APIRef:"isoform-mapping",metadata:{name:"Isoform"}}],p=n(3);function u(t,e){var n=[];return t.map((function(t){0!==Object.keys(t).length&&Object.prototype.hasOwnProperty.call(t,e)&&n.push(Object(p.a)({},t[e]))})),n}var f=n(10),m=n.n(f),h=n(16),g=n(2),v=n(43),x=n(115),y=n(44),b=n.n(y);function A(t){var e=t.columns,n=t.data;if("csv"===t.fileType){var a=e.map((function(t){return t.exportValue})),i=b.a.unparse({fields:a,data:n});return new Blob([i],{type:"text/csv"})}}var w="Couldn't find entry data.",E=n(45),N=n.n(E),j=n(1),O={header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(t){return t.replace(/\W/g,"-")}},k=function(t){var e=t.callGetPredictions,n=Object(a.useState)(""),i=Object(l.a)(n,2),r=i[0],o=i[1];return Object(j.jsxs)("div",{className:"csv-button-container",children:[Object(j.jsxs)("div",{className:"csv-button",children:[Object(j.jsx)("button",{className:"export-btn",children:"Upload CSV"}),r&&Object(j.jsx)("p",{children:r})]}),Object(j.jsx)(N.a,{cssClass:"csv-reader-input",onFileLoaded:function(t,n){e(t),o(n.name)},parserOptions:O,cssInputClass:"csv-input"})]})},P=n.p+"static/media/down_arrow_icon.4f1d5ef1.svg",S=n.p+"static/media/up_arrow_icon.6ff07499.svg",T=n.p+"static/media/sort_icon.86d67f70.svg",R=n.p+"static/media/info_icon.09c4a3bc.svg",C=n(26),I=n.n(C),D=function(){if(Object({NODE_ENV:"production",PUBLIC_URL:"/VEP-community-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEVELOPMENT){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log(e)}},B=Object({NODE_ENV:"production",PUBLIC_URL:"/VEP-community-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL;function F(t){return _.apply(this,arguments)}function _(){return(_=Object(h.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("".concat(B,"/vep-results"),e).then((function(t){return t.data})).catch((function(t){D(t)}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(){return(V=Object(h.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("".concat(B,"/mapping-isoforms/").concat(e)).then((function(t){return t.data})).catch((function(t){D(t)}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var q=[{Header:"S. No.",accessor:"id",Cell:function(t){return Object(j.jsx)("div",{children:Number(t.row.id)+1})}},{Header:"Position",accessor:"nextprotPosition"},{Header:"Original",accessor:"originalAminoAcid"},{Header:"Variant",accessor:"variantAminoAcid"},{Header:"Sift",accessor:"sift"},{Header:"Polyphen",accessor:"polyphen"}];function z(t){var e=t.globalFilter,n=t.setGlobalFilter,i=Object(a.useState)(e),r=Object(l.a)(i,2),o=r[0],s=r[1],c=Object(g.useAsyncDebounce)((function(t){n(t||void 0)}),200);return Object(j.jsx)("input",{className:"search-input",value:o||"",onChange:function(t){s(t.target.value),c(t.target.value)},placeholder:"Search..."})}var $,L,M,H=function(t){var e=t.data,n=t.setData,i=t.isoName,r=function(){var t=Object(h.a)(m.a.mark((function t(e){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={isoform:i,variants:e},t.next=3,F(a).then((function(t){n(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=Object(a.useMemo)((function(){return q}),[]),s=Object(g.useTable)({columns:o,data:e,getExportFileBlob:A,getExportFileName:function(){return i},initialState:{pageIndex:0,pageSize:10}},g.useGlobalFilter,g.useSortBy,v.a,g.usePagination),l=s.getTableProps,c=s.getTableBodyProps,d=s.headerGroups,u=s.prepareRow,f=s.page,y=s.state,b=s.canPreviousPage,w=s.canNextPage,E=s.pageOptions,N=s.pageCount,O=s.gotoPage,R=s.nextPage,C=s.preGlobalFilteredRows,I=s.setGlobalFilter,D=s.previousPage,B=s.setPageSize,_=s.state,V=_.pageIndex,$=_.pageSize,L=s.exportData;return Object(j.jsxs)("div",{className:"variant-table-container",children:[Object(j.jsxs)("div",{className:"table-header",style:{display:"flex"},children:[Object(j.jsx)(k,{callGetPredictions:r}),Object(j.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(j.jsx)(z,{preGlobalFilteredRows:C,globalFilter:y.globalFilter,setGlobalFilter:I}),Object(j.jsx)("button",{className:"export-btn",onClick:function(){L("csv",!0)},children:"Export All as CSV"})]})]}),Object(j.jsxs)("table",Object(p.a)(Object(p.a)({},l()),{},{className:"variant-data-table",children:[Object(j.jsx)("thead",{children:d.map((function(t){return Object(a.createElement)("tr",Object(p.a)(Object(p.a)({},t.getHeaderGroupProps()),{},{key:Object(x.a)()}),t.headers.map((function(t){return Object(a.createElement)("th",Object(p.a)(Object(p.a)({},t.getHeaderProps(t.getSortByToggleProps())),{},{key:Object(x.a)()}),t.render("Header"),Object(j.jsx)("span",{children:t.isSorted?t.isSortedDesc?Object(j.jsx)("img",{src:P,className:"icon",alt:"Down arrow icon"}):Object(j.jsx)("img",{src:S,className:"icon",alt:"Down arrow icon"}):Object(j.jsx)("img",{src:T,className:"icon",alt:"Down arrow icon"})}))})))}))}),Object(j.jsx)("tbody",Object(p.a)(Object(p.a)({},c()),{},{children:f.map((function(t){return u(t),Object(a.createElement)("tr",Object(p.a)(Object(p.a)({},t.getRowProps()),{},{key:Object(x.a)()}),t.cells.map((function(t){return Object(a.createElement)("td",Object(p.a)(Object(p.a)({},t.getCellProps()),{},{key:Object(x.a)()}),t.render("Cell"))})))}))}))]})),0===e.length?Object(j.jsxs)("p",{className:"table-text",children:[Object(j.jsx)("i",{children:"No records added. Add variants and click on get predictions to get results"}),"."]}):Object(j.jsxs)("div",{className:"pagination",children:[Object(j.jsx)("button",{onClick:function(){return O(0)},disabled:!b,children:"<<"})," ",Object(j.jsx)("button",{onClick:function(){return D()},disabled:!b,children:"<"})," ",Object(j.jsx)("button",{onClick:function(){return R()},disabled:!w,children:">"})," ",Object(j.jsx)("button",{onClick:function(){return O(N-1)},disabled:!w,children:">>"})," ",Object(j.jsxs)("span",{children:["Page"," ",Object(j.jsxs)("strong",{children:[V+1," of ",E.length]})," "]}),Object(j.jsxs)("span",{children:["| Go to page:"," ",Object(j.jsx)("input",{type:"number",defaultValue:V+1||1,onChange:function(t){var e=t.target.value?Number(t.target.value)-1:0;O(e)}})]})," ",Object(j.jsx)("select",{value:$,onBlur:function(t){B(Number(t.target.value))},children:[10,20,30,40,50].map((function(t){return Object(j.jsxs)("option",{value:t,children:["Show ",t]},t)}))})]})]})},G=n(46),U=function(t){var e=t.offset,n=t.isoform;return Object(j.jsx)(j.Fragment,{children:e<0?Object(j.jsxs)("div",{className:"isoform-info",children:[n,Object(j.jsx)("img",{title:"Isoform mapping not available",src:R,className:"icon",alt:"Info Icon"})]}):n})},W=function(t){var e=t.isoform,n=t.handleIsoformChange,i=Object(a.useState)(),r=Object(l.a)(i,2),o=r[0],s=r[1],c=Object(a.useState)(),d=Object(l.a)(c,2),p=d[0],u=d[1];return Object(a.useEffect)((function(){var t=[];e.map((function(e){var n={value:e.isoform,label:Object(j.jsx)(U,{isoform:e.isoform,offset:e.offset}),disabled:e.offset<0};t.push(n)})),s(t),u(t[0])}),[e]),o?Object(j.jsxs)("div",{className:"isoform-select-wrapper",children:[Object(j.jsx)("p",{children:"Change Isoform"}),Object(j.jsx)(G.a,{className:"isoform-select",options:o,value:p,isOptionDisabled:function(t){return t.disabled},defaultValue:p,onChange:function(t){n(t.value),u(t)}})]}):Object(j.jsx)(j.Fragment,{})},X=["title","titleId"];function Z(){return(Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function K(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Y(t,e){var n=t.title,i=t.titleId,r=K(t,X);return a.createElement("svg",Z({id:"L5",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 0 0",xmlSpace:"preserve",ref:e,"aria-labelledby":i},r),n?a.createElement("title",{id:i},n):null,$||($=a.createElement("circle",{fill:"#166ff8",stroke:"none",cx:6,cy:50,r:6},a.createElement("animateTransform",{attributeName:"transform",dur:"1s",type:"translate",values:"0 15 ; 0 -15; 0 15",repeatCount:"indefinite",begin:.1}))),L||(L=a.createElement("circle",{fill:"#166ff8",stroke:"none",cx:30,cy:50,r:6},a.createElement("animateTransform",{attributeName:"transform",dur:"1s",type:"translate",values:"0 10 ; 0 -10; 0 10",repeatCount:"indefinite",begin:.2}))),M||(M=a.createElement("circle",{fill:"#166ff8",stroke:"none",cx:54,cy:50,r:6},a.createElement("animateTransform",{attributeName:"transform",dur:"1s",type:"translate",values:"0 5 ; 0 -5; 0 5",repeatCount:"indefinite",begin:.3}))))}var Q=a.forwardRef(Y),J=(n.p,function(){return Object(j.jsx)("div",{className:"loader",children:Object(j.jsx)(Q,{})})}),tt=function(){var t,e=Object(a.useState)([]),n=Object(l.a)(e,2),i=n[0],r=n[1],o=Object(a.useState)(),p=Object(l.a)(o,2),f=p[0],m=p[1],h=Object(a.useState)(),g=Object(l.a)(h,2),v=g[0],x=g[1],y=Object(a.useState)(),b=Object(l.a)(y,2),A=b[0],E=b[1],N=Object(a.useState)(),O=Object(l.a)(N,2),k=O[0],P=O[1],S=Object(a.useState)(null),T=Object(l.a)(S,2),R=T[0],C=T[1],I=Object(a.useState)(!0),B=Object(l.a)(I,2),_=B[0],q=B[1],z=new c.Nextprot.Client("Calipho Group","VEP community tool");function $(t,e,n,a){e.forEach((function(e){e.uniqueName===n&&(t=new c.createFeature(e.sequence,"#fv1",{showAxis:!0,showSequence:!0,brushActive:!0,toolbar:!0,bubbleHelp:!0,zoomMax:10,variant:!0}),a.map((function(e){t.addFeature(e)})),t.onVariantChanged((function(t){r(Object(s.a)(t.detail))})),t.onGetPredictions((function(t){F({isoform:n,variants:t.detail}).then((function(t){r(t)}))})))}))}return Object(a.useEffect)((function(){var e,n,a=new URLSearchParams(window.location.search).get("entry");(function(t){return V.apply(this,arguments)})(a).then((function(t){m(t)})),Promise.all(function(t,e,n){var a=[];for(var i in t)switch(t[i].APIRef){case"sequence":a.push(e.getProteinSequence(n));break;case"antibody":a.push(e.getAntibody(n));break;case"isoform-mapping":a.push(e.getIsoformMapping(n));break;case"variant-medical":a.push(e.getAnnotationsWithProperty(n,"variant","disease-related",!0));break;case"miscellaneous-region-interactions":a.push(e.getAnnotationsWithProperty(n,"miscellaneous-region","interaction-related",!0));break;default:a.push(e.getAnnotationsByCategory(n,t[i].APIRef))}return a}(d,z,a)).then((function(a){if(a){e=a[0];var i=function(t,e){for(var n,a=[],i=1;i<t.length-1;i++){var r=c.NXUtils.convertMappingsToIsoformMap(t[i],e[i].name.replace(".",""),e[i].filter,"");n=c.NXViewerUtils.convertNXAnnotations(r,e[i],{}),a.push(n)}return a}(a,function(){var t=[];return d.map((function(e,n){t.push(d[n].metadata)})),t}());n=u(i,e[0].isoformAccession),$(t,e,e[0].isoformAccession,n),x(e),P(i),E(e[0].isoformAccession),q(!1)}else C(w)})).catch((function(t){D(t)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[_&&Object(j.jsx)(J,{}),Object(j.jsxs)("div",{className:"viewer-container",children:[f&&!R&&Object(j.jsx)(W,{isoName:A,isoform:f,handleIsoformChange:function(e){E(e),document.getElementById("fv1").innerHTML="";var n=u(k,e);$(t,v,e,n)}}),Object(j.jsx)("div",{id:"fv1"}),Object(j.jsx)(H,{data:i,setData:r,isoName:A})]})]})},et=n.p+"static/media/nextprot-logo.d0c0c045.png",nt=(n(110),function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("img",{src:et,className:"logo",alt:"neXtProt logo"}),Object(j.jsx)(tt,{})]})}),at=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),r(t),o(t)}))};o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(nt,{})}),document.getElementById("root")),at()},13:function(t,e,n){(function(e){e.jQuery=$=n(52),d3=n(53),n(17),n(55),n(56);var a=n(28),i=n(31),r=n(18).NXUtils,o=n(18).NXViewerUtils,s=n(71);n(72).mixin(a.prototype),t.exports={createFeature:a,Nextprot:i,NXUtils:r,NXViewerUtils:o,nxFeatureViewer:s}}).call(this,n(27))},28:function(t,e,n){var a=n(57),r=n(59),o=n(61),s=n(65),l=["id"],c=n(69),p=c.crossIcon,u=c.deleteIcon,f=c.bottomArrowIcon,m=n(70).dropdownOptions;"object"===typeof t.exports&&(t.exports=function(t,e,n){var c=this;this.events={FEATURE_SELECTED_EVENT:"feature-viewer-position-selected",FEATURE_DESELECTED_EVENT:"feature-viewer-position-deselected",ZOOM_EVENT:"feature-viewer-zoom-altered",GET_PREDICTIONS_EVENT:"feature-viewer-vep-predictions",VARIANT_ADDED_EVENT:"feature-viewer-variant-added"},e=e;var h,g=document.getElementById(e.substring(1)),v=(t=t,Number.isInteger(t)?t:null),x=v|t.length,y=[],b={showSequence:!1,brushActive:!1,verticalLine:!1,dottedSequence:!0,variant:!1},A={start:1,end:x};n&&n.offset&&(A=n.offset).start<1&&(A.start=1,console.warn("WARNING ! offset.start should be > 0. Thus, it has been reset to 1."));var w,E,N,j,O,k,P=0,S=[],T=20,R=0,C=0,I=50,D={length:A.end-A.start,start:A.start,end:A.end},B={},F=!0,_=[],V=[];function q(t,e){B!=={}&&d3.select(B.id).style("fill",B.originalColor),"path"!==e.type&&"line"!==e.type&&(B={id:t,originalColor:d3.select(t).style("fill")||e.color},d3.select(t).style("fill","orangered"))}d3.select(e).style("position","relative").style("padding","0px").style("z-index","2");var z=10,L=20,M=20,H=110,G=$(e).width()-H-L-17,U=600-z-M,W=d3.scale.linear().domain([A.start,A.end]).range([5,G-5]),X=d3.scale.linear().domain([0,G]).range([A.start,A.end]);function Z(t,e){for(var n=t-110,a="",i=0;i<e.length;i++)if(W(e[i].x)<n&&W(e[i+1].x)>n){a=n-W(e[i].x)<W(e[i+1].x)-n?e[i]:e[i+1];break}return a}d3.helper={},d3.helper.tooltip=function(t){var a,i,r=d3.select(e).node(),o=n.tooltipColor?n.tooltipColor:"orangered";function s(n){n.on("mouseover.tooltip",(function(n,i){d3.select("body").selectAll("div.tooltip").remove();var s=d3.mouse(r),l=s[0]>G;if(l?a=d3.select(e).append("div").attr("class","tooltip3"):(a=d3.select(e).append("div").attr("class","tooltip2")).style({left:s[0]-15+"px"}),a.style({bottom:r.offsetHeight-s[1]+16+"px","background-color":"#eee",width:"auto","max-width":"170px",height:"auto","max-height":"68px",padding:"5px",font:"10px sans-serif","text-align":"center",position:"absolute","z-index":45,"box-shadow":"0 1px 2px 0 #656565"}),"path"===t.type){var c='<p style="margin:2px;font-weight:700;color:'+o+'">'+n[0].x+"&#x256d;&#x256e;"+n[1].x+"</p>";if(n.description)var d='<p style="margin:2px;color:'+o+';font-size:9px">'+n.description+"</p>";else d=""}else if("line"===t.type){var p=Z(s[0],n);p.description?(c='<p style="margin:2px;font-weight:700;color:'+o+'">'+p.x+" : <span> "+p.y+"</span></p>",d='<p style="margin:2px;color:'+o+';font-size:9px">'+p.description+"</p>"):(c='<p style="margin:2px;color:'+o+'">position : <span id="tLineX">'+p.x+"</span></p>",d='<p style="margin:2px;color:'+o+'">count : <span id="tLineC">'+p.y+"</span></p>")}else"unique"===t.type||n.x===n.y?(c='<p style="margin:2px;font-weight:700;color:'+o+'">'+n.x+"</p>",d=n.description?'<p style="margin:2px;color:'+o+';font-size:9px">'+n.description+"</p>":""):(c='<p style="margin:2px;font-weight:700;color:'+o+'">'+n.x+" - "+n.y+"</p>",d=n.description?'<p style="margin:2px;color:'+o+';font-size:9px">'+n.description+"</p>":"");a.html(c+d),l&&a.style({left:s[0]+10-a.node().getBoundingClientRect().width+"px"})})).on("mousemove.tooltip",(function(e,n){if("line"===t.type){var i=Z((c=d3.mouse(r))[0],e);if(i.description)var s='<p style="margin:2px;color:'+o+'">'+i.x+" : <span> "+i.y+"</span></p>",l='<p style="margin:2px;color:'+o+';font-size:9px">'+i.description+"</p>";else s='<p style="margin:2px;color:'+o+'">position : <span id="tLineX">'+i.x+"</span></p>",l='<p style="margin:2px;color:'+o+'">count : <span id="tLineC">'+i.y+"</span></p>";a.html(s+l)}var c;void 0!==a&&((c=d3.mouse(r))[0]>G?(a.attr("class","tooltip3"),a.style({left:c[0]+10-a.node().getBoundingClientRect().width+"px",bottom:r.offsetHeight-c[1]+16+"px"})):(a.attr("class","tooltip2"),a.style({left:c[0]-15+"px",bottom:r.offsetHeight-c[1]+16+"px"})))})).on("mouseout.tooltip",(function(t,e){a.remove()})).on("click",(function(n,a){var o,s,l,d,p;if("text"===this.nodeName){var u="#"+this.previousSibling.id;"#"!==u.nodeName&&q(u,t)}else q(this,t);var f=b.brushActive?d3.select(".background").attr("width"):E.node().getBBox().width;if(d3.select("body").selectAll("div.selectedRect").remove(),i=d3.select(e).append("div").attr("class","selectedRect"),"path"===t.type?(o=n[0].x,s=n[1].x):"line"===t.type?(o=(p=Z(d3.mouse(r)[0],n)).x-.5,s=p.x+.5):"unique"===t.type||n.x===n.y?(o=n.x-.4,s=n.y+.4):(o=n.x,s=n.y),W(o)<0&&W(s)>f?(l=H,d=parseInt(f)+5):W(o)<0?(l=H,d=W(s)):W(s)>f?(l=W(o)+H,d=parseInt(f)-W(o),d+=5):(l=W(o)+H,d=W(s)-W(o)),i.style({left:l+"px",top:$(e+" .svgHeader").length?"60px":"10px","background-color":"rgba(0, 0, 0, 0.2)",width:d+"px",height:T+50+"px",position:"absolute","z-index":-1,"box-shadow":"0 1px 2px 0 #656565"}),CustomEvent){var m=new CustomEvent(c.events.FEATURE_SELECTED_EVENT,{detail:{start:"path"===t.type?n[0].x:"line"===t.type?p.x:n.x,end:"path"===t.type?n[1].x:"line"===t.type?p.y:n.y,id:"path"===t.type?n[0].id:"line"===t.type?p.id:n.id,description:"path"===t.type?n[0].description:"line"===t.type?p.description:n.description}});h.dispatchEvent(m)}else console.warn("CustomEvent is not defined....");c.trigger&&c.trigger(c.events.FEATURE_SELECTED_EVENT,{start:"path"===t.type?n[0].x:"line"===t.type?p.x:n.x,end:"path"===t.type?n[1].x:"line"===t.type?p.y:n.y,id:"path"===t.type?n[0].id:"line"===t.type?p.id:n.id,description:"path"===t.type?n[0].description:"line"===t.type?p.description:n.description})}))}return s.attr=function(t){return arguments.length?(attrs=t,this):attrs},s.style=function(t){return arguments.length?(styles=t,this):styles},s};var K=function(t){return W(t.x)},Y=function(t){return G/t>5},Q=function(t){return W(t.y)-W(t.x)};function J(t){return t.x===t.y?W(t.x-.4):W(t.x)}function tt(t){return t.x===t.y?W(t.x+.4)-W(t.x-.4)<2?2:W(t.x+.4)-W(t.x-.4):W(t.y)-W(t.x)}function et(t){var e=[];return t.forEach((function(t){if(e===[])e.push(t.y),t.level=0;else{for(var n=!1,a=0;a<e.length;a++)if(t.x>e[a]){n=!0,t.level=a,e[a]=t.y;break}!1===n&&(e.push(t.y),t.level=e.length-1)}})),e.length}this.onFeatureSelected=function(t){h.addEventListener(c.events.FEATURE_SELECTED_EVENT,t)},this.onFeatureDeselected=function(t){h.addEventListener(c.events.FEATURE_DESELECTED_EVENT,t)},this.onZoom=function(t){h.addEventListener(c.events.ZOOM_EVENT,t)},this.onGetPredictions=function(t){h.addEventListener(c.events.GET_PREDICTIONS_EVENT,t)},this.onVariantChanged=function(t){h.addEventListener(c.events.VARIANT_ADDED_EVENT,t)};var nt=d3.svg.line().interpolate("step-before").x((function(t){return W(t.x)})).y((function(t){return 10*-t.y+P})),at=d3.svg.line().x((function(t){return W(t.x)})).y((function(t){return 10*it(-t.y)+P})),it=d3.scale.linear().domain([0,-30]).range([0,-20]),rt=d3.svg.line().interpolate("linear").x((function(t){return W(t.x)})).y((function(t){return t.y+6})),ot=d3.svg.axis().scale(W).tickFormat(d3.format("d")).orient("bottom");function st(t,e,n){if("number"!=typeof t||t<-1||t>1||"string"!=typeof e||"r"!=e[0]&&"#"!=e[0]||"string"!=typeof n&&"undefined"!=typeof n)return null;this.sbcRip||(this.sbcRip=function(t){var e=t.length,n=new Object;if(e>9){if((t=t.split(",")).length<3||t.length>4)return null;n[0]=a(t[0].slice(4)),n[1]=a(t[1]),n[2]=a(t[2]),n[3]=t[3]?parseFloat(t[3]):-1}else{if(8==e||6==e||e<4)return null;e<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(e>4?t[4]+""+t[4]:"")),t=a(t.slice(1),16),n[0]=t>>16&255,n[1]=t>>8&255,n[2]=255&t,n[3]=9==e||5==e?i((t>>24&255)/255*1e4)/1e4:-1}return n});var a=parseInt,i=Math.round,r=e.length>9,o=(r="string"==typeof n?n.length>9||"c"==n&&!r:r,t<0),s=(t=o?-1*t:t,n=n&&"c"!=n?n:o?"#000000":"#FFFFFF",sbcRip(e)),l=sbcRip(n);return s&&l?r?"rgb("+i((l[0]-s[0])*t+s[0])+","+i((l[1]-s[1])*t+s[1])+","+i((l[2]-s[2])*t+s[2])+(s[3]<0&&l[3]<0?")":","+(s[3]>-1&&l[3]>-1?i(1e4*((l[3]-s[3])*t+s[3]))/1e4:l[3]<0?s[3]:l[3])+")"):"#"+(4294967296+16777216*(s[3]>-1&&l[3]>-1?i(255*((l[3]-s[3])*t+s[3])):l[3]>-1?i(255*l[3]):s[3]>-1?i(255*s[3]):255)+65536*i((l[0]-s[0])*t+s[0])+256*i((l[1]-s[1])*t+s[1])+i((l[2]-s[2])*t+s[2])).toString(16).slice(s[3]>-1||l[3]>-1?1:3):null}function lt(t){w.attr("height",t+60+"px"),w.select("clippath rect").attr("height",t+60+"px")}var ct=d3.scale.ordinal().domain([0,S.length]).rangeRoundBands([0,500],.1);function dt(){(j=N.selectAll(".yaxis").data(S).enter().append("g")).append("polygon").attr("class",(function(t){return t.filter?t.filter.split(" ").join("_")+"Arrow":"Arrow"})).style("stroke","").style("fill","#DFD5D3").attr("points",(function(t){return H-105+","+(t.y-3)+", "+(H-105)+","+(t.y+12)+", "+(H-15)+","+(t.y+12)+", "+(H-7)+","+(t.y+4.5)+", "+(H-15)+","+(t.y-3)})),j.append("text").attr("class","yaxis").attr("text-anchor","start").attr("x",(function(){return H-102})).attr("y",(function(t){return t.y+8})).text((function(t){return t.title}))}function pt(t){t.on("mousedown",(function(){brush_elm=w.select(".brush").node(),new_click_event=new Event("mousedown"),new_click_event.pageX=d3.event.pageX,new_click_event.clientX=d3.event.clientX,new_click_event.pageY=d3.event.pageY,new_click_event.clientY=d3.event.clientY,brush_elm&&brush_elm.dispatchEvent(new_click_event)}))}d3.svg.axis().scale(ct).tickValues(S).tickFormat((function(t){return t})).orient("left");var ut=function(t){t.data.sort((function(t,e){return t.x-e.x}));var e=et(t.data);t.data=t.data.map((function(t){return[{x:t.x,y:0,id:t.id,description:t.description,color:t.color},{x:t.y,y:t.level+1,id:t.id},{x:t.y,y:0,id:t.id}]})),P=10*e+5,t.height=10*e+5},ft=function(t){t.height||(t.height=10);var e=parseInt(t.height),n=0;for(var a in t.data){t.data[a].sort((function(t,e){return t.x-e.x})),0!==t.data[a][0].y&&t.data[a].unshift({x:t.data[a][0].x-1,y:0}),0!==t.data[a][t.data[a].length-1].y&&t.data[a].push({x:t.data[a][t.data[a].length-1].x+1,y:0});var i=Math.max.apply(Math,t.data[a].map((function(t){return Math.abs(t.y)})));n=i>n?i:n,t.data[a]=[t.data[a].map((function(t){return{x:t.x,y:t.y,id:t.id,description:t.description}}))]}it.range([0,-e]).domain([0,-n]),P=10*e+5,t.level=n,t.shift=10*e+5},mt=function(t){t.data.sort((function(t,e){return t.x-e.x})),R=et(t.data),P=10*R+5},ht={typeIdentifier:function(t){if("rect"===t.type)mt(t),S.push({title:t.name,y:T,filter:t.filter}),ht.rectangle(t,T);else if("text"===t.type)ht.sequence(t.data,T),S.push({title:t.name,y:T,filter:t.filter}),W.range([5,G-5]);else if("unique"===t.type)ht.unique(t,T),S.push({title:t.name,y:T,filter:t.filter});else if("multipleRect"===t.type)mt(t),ht.multipleRect(t,T,R),S.push({title:t.name,y:T,filter:t.filter}),T+=10*(R-1);else if("path"===t.type)ut(t),ht.path(t,T),T+=P,S.push({title:t.name,y:T-10,filter:t.filter});else if("line"===t.type){Array.isArray(t.data[0])||(t.data=[t.data]),Array.isArray(t.color)||(t.color=[t.color]);var e=!1;t.data.forEach((function(t){t.filter((function(t){return t.y<0})).length&&(e=!0)})),ft(t),ht.line(t,T),T+=P,S.push({title:t.name,y:T-10,filter:t.filter}),T+=e?P-5:0}},sequence:function(t,n,a){a||(a=0);var r,o="";E.append("g").attr("class","seqGroup").selectAll(".AA").data(t).enter().append("text",(function(){return d+"-"+i})).attr("clip-path","url(#clip)").attr("class","AA").attr("text-anchor","middle").attr("x",(function(t,e){return W.range([5,G-5])(e+a)})).attr("y",n).attr("font-size","10px").attr("font-family","monospace").text((function(t,e){return t})).on("click",(function(t){r=t,x(!0,function(t,e){var n=800;return t-e<n?t-(n/2+(t-e)):e}($(window).width(),this.getBoundingClientRect().x))}));var l=($(e+" .svgHeader").length?d3.select(e+" .svgHeader"):d3.select(e).append("div").attr("class","svgHeader")).append("div").attr("class","single-variant-popup");l.append("svg").attr("class","cancel-icon").attr("height","1.5rem").attr("width","1.5rem").attr("viewBox","0 0 512 640").on("click",(function(){x(!1),$("#single-dropdown-content").hide()})).html(p);var c=l.append("div");c.html('\n                        <p>Enter the variants</p>\n                        <div class="properties-row">\n                            <p class="title">Position</p>\n                            <div class="single-variant-nextprotPosition"></div>\n                        </div>\n                        <div class="properties-row">\n                            <p class="title">Original</p>\n                            <div class="single-variant-original"></div>\n                        </div>\n                    ');var u=c.append("div").attr("class","properties-row");u.append("p").attr("class","title").text("Variant");var h=u.append("div").attr("class","dropdown");h.append("button").attr("class","dropdown-btn").attr("id","single-variant-dropdown-btn").text("Select variant").on("click",(function(){$("#single-dropdown-content").toggle()})),h.append("div").attr("class","bottom-arrow-icon").html(f);var g=h.append("div").attr("id",(function(){return"single-dropdown-content"}));c.append("p").attr("class","error").attr("id","single-variant-error").text(o),c.append("button").attr("disabled",!0).attr("class","single-add-variant-btn").text("Add Variant").on("click",(function(){!function(t){if(""!==t){var e=t.split(" /")[0],n={},a=$(".single-variant-nextprotPosition").text();n.nextprotPosition=Number(a),n.originalAminoAcid=r,n.variantAminoAcid=e,_.push(n),Pt()}else console.log("Variant not added")}($("#single-variant-dropdown-btn").text())})),g.append("input").attr("placeholder","Search...").attr("id","dropdown-search-input").on("keyup",(function(){var t,e,n;for(t=document.getElementById("dropdown-search-input").value.toUpperCase(),e=document.getElementById("dropdown-options").getElementsByTagName("p"),n=0;n<e.length;n++)(e[n].textContent||e[n].innerText).toUpperCase().indexOf(t)>-1?e[n].style.display="":e[n].style.display="none"}));var v=g.append("div").attr("class","dropdown-option-container").attr("id","dropdown-options");function x(t,e){$("#single-variant-dropdown-btn").text("Select variant"),variantValue="",o="",$("#single-variant-error").text(o),$(".single-add-variant-btn").attr("disabled",!0),$(".single-variant-nextprotPosition").text((function(){return k})),$(".single-variant-original").text((function(){return"".concat(r," / ").concat(m[r])})),l.style("left","".concat(e,"px")).style("display",t?"block":"none")}Object.entries(m).forEach((function(t){var e=s(t,2),n=e[0],a=e[1];v.append("p").attr("class","single-dropdown-options").attr("id","".concat(n," / ").concat(a)).text("".concat(n," / ").concat(a))})),$(document).on("click",".single-dropdown-options",(function(){var t=$(this).attr("id");$("#single-dropdown-content").hide();var e=t.split(" /")[0];if(r===e)return o="Original value cannot be same as variant",void $("#single-variant-error").text(o);$("#single-variant-error").text(""),variantValue=t,$(this).parent().parent().parent().children("button").text((function(){return t})),$(".single-add-variant-btn").attr("disabled",!1)}))},sequenceLine:function(){b.dottedSequence&&E.selectAll(".sequenceLine").data([[{x:1,y:12},{x:x,y:12}]]).enter().append("path").attr("clip-path","url(#clip)").attr("d",rt).attr("class","sequenceLine").style("z-index","0").style("stroke","black").style("stroke-dasharray","1,3").style("stroke-width","1px").style("stroke-opacity",0).transition().duration(500).style("stroke-opacity",1)},rectangle:function(t,e){t.height||(t.height=12);for(var n=t.height,a=n+n/3,i=n/2-6,r=E.append("g").attr("class","rectangle").attr("transform","translate(0,"+e+")"),o=[],s=0;s<R;s++)o.push([{x:1,y:s*a+i},{x:x,y:s*a+i}]);r.selectAll(".line"+t.className).data(o).enter().append("path").attr("d",rt).attr("class",(function(){return"line"+t.className})).style("z-index","0").style("stroke",t.color).style("stroke-width","1px");var l=r.selectAll("."+t.className+"Group").data(t.data).enter().append("g").attr("class",t.className+"Group").attr("transform",(function(t){return"translate("+J(t)+",0)"}));l.append("rect").attr("class","element "+t.className).attr("id",(function(t){return"f"+t.id})).attr("y",(function(t){return t.level*a})).attr("width",tt).attr("height",n).style("fill",(function(e){return e.color||t.color})).style("z-index","13").call(d3.helper.tooltip(t)),l.append("text").attr("class","element "+t.className+"Text").attr("y",(function(t){return t.level*a+n/2})).attr("dy","0.35em").style("font-size","10px").text((function(t){return t.description})).style("fill","black").style("z-index","15").style("visibility",(function(t){return t.description&&W(t.y)-W(t.x)>8*t.description.length&&n>11?"visible":"hidden"})).call(d3.helper.tooltip(t)),pt(l);var c=n>12?n-6:0;T+=R<2?c:(R-1)*a+c},unique:function(t,e){var n=E.append("g").attr("class","uniquePosition").attr("transform","translate(0,"+e+")"),a=[];a.push([{x:1,y:0},{x:x,y:0}]),n.selectAll(".line"+t.className).data(a).enter().append("path").attr("clip-path","url(#clip)").attr("d",rt).attr("class","line"+t.className).style("z-index","0").style("stroke",t.color).style("stroke-width","1px"),n.selectAll("."+t.className).data(t.data).enter().append("rect").attr("clip-path","url(#clip)").attr("class","element "+t.className).attr("id",(function(t){return"f"+t.id})).attr("x",(function(t){return W(t.x-.4)})).attr("width",(function(t){return W(t.x+.4)-W(t.x-.4)<2?2:W(t.x+.4)-W(t.x-.4)})).attr("height",12).style("fill",(function(e){return e.color||t.color})).style("z-index","3").call(d3.helper.tooltip(t)),pt(n)},path:function(t,e){var n=E.append("g").attr("class","pathing").attr("transform","translate(0,"+e+")"),a=[];a.push([{x:1,y:0},{x:x,y:0}]),n.selectAll(".line"+t.className).data(a).enter().append("path").attr("clip-path","url(#clip)").attr("d",nt).attr("class","line"+t.className).style("z-index","0").style("stroke",t.color).style("stroke-width","1px"),n.selectAll("."+t.className).data(t.data).enter().append("path").attr("clip-path","url(#clip)").attr("class","element "+t.className).attr("id",(function(t){return"f"+t[0].id})).attr("d",nt).style("fill","none").style("stroke",(function(e){return e[0].color||t.color})).style("z-index","3").style("stroke-width","2px").call(d3.helper.tooltip(t)),pt(n)},line:function(t,e){t.interpolation||(t.interpolation="monotone"),void 0===t.fill&&(t.fill=!0);var n=E.append("g").attr("class","lining").attr("transform","translate(0,"+e+")"),a=[];a.push([{x:1,y:0},{x:x,y:0}]),n.selectAll(".line"+t.className).data(a).enter().append("path").attr("clip-path","url(#clip)").attr("d",nt).attr("class","line"+t.className).style("z-index","0").style("stroke","black").style("stroke-width","1px"),t.data.forEach((function(e,a,i){n.selectAll("."+t.className+a).data(e).enter().append("path").attr("clip-path","url(#clip)").attr("class","element "+t.className+" "+t.className+a).attr("d",at.interpolate(t.interpolation)).style("fill",t.fill?st(.6,t.color[a])||st(.6,"#000"):"none").style("stroke",t.color[a]||"#000").style("z-index","3").style("stroke-width","2px").call(d3.helper.tooltip(t))})),pt(n)},multipleRect:function(t,e,n){for(var a=E.append("g").attr("class","multipleRects").attr("transform","translate(0,"+e+")"),i=0;i<n;i++)a.append("path").attr("d",rt([{x:1,y:10*i-2},{x:x,y:10*i-2}])).attr("class",(function(){return"line"+t.className})).style("z-index","0").style("stroke",t.color).style("stroke-width","1px");a.selectAll("."+t.className).data(t.data).enter().append("rect").attr("clip-path","url(#clip)").attr("class","element "+t.className).attr("id",(function(t){return"f"+t.id})).attr("x",K).attr("y",(function(t){return 10*t.level})).attr("width",Q).attr("height",8).style("fill",(function(e){return e.color||t.color})).style("z-index","13").call(d3.helper.tooltip(t)),pt(a)}};this.showFilteredFeature=function(t,e,n){N.selectAll("."+t+"Arrow");var a=H-105,i=H-7,r=w.append("linearGradient").attr("y1","0").attr("y2","0").attr("x1",a).attr("x2",i).attr("id","gradient").attr("spreadMethod","pad").attr("gradientUnits","userSpaceOnUse");r.append("stop").attr("offset","0.3").attr("stop-color","#DFD5D3").attr("stop-opacity",1),r.append("stop").attr("offset","1").attr("stop-opacity",1).attr("stop-color","#DFD5D3").attr("stop-color",e);var o="url(#gradient)",s="url(#dropshadow)";n&&(o="url("+n+"#gradient)",s="url("+n+"#dropshadow)"),N.selectAll("."+t+"Arrow").style("fill",o).style("stroke","").attr("filter",s).attr("points",(function(t){return H-105+","+(t.y-3)+", "+(H-105)+","+(t.y+12)+", "+(H-10)+","+(t.y+12)+", "+(H-2)+","+(t.y+4.5)+", "+(H-10)+","+(t.y-3)}))},this.hideFilteredFeature=function(t){N.selectAll("."+t+"Arrow").style("fill","rgba(95,46,38,0.2)").attr("filter","").attr("points",(function(t){return H-105+","+(t.y-3)+", "+(H-105)+","+(t.y+12)+", "+(H-15)+","+(t.y+12)+", "+(H-7)+","+(t.y+4.5)+", "+(H-15)+","+(t.y-3)}))};var gt=function(t){E.selectAll(".line"+t.className).attr("d",rt.x((function(t){return W(t.x)}))),F?(transit1=E.selectAll("."+t.className+"Group").transition().duration(500),transit2=E.selectAll("."+t.className).transition().duration(500)):(transit1=E.selectAll("."+t.className+"Group"),transit2=E.selectAll("."+t.className)),transit1.attr("transform",(function(t){return"translate("+J(t)+",0)"})),transit2.attr("width",tt),E.selectAll("."+t.className+"Text").style("visibility",(function(e){return e.description&&W(e.y)-W(e.x)>8*e.description.length&&t.height>11?"visible":"hidden"}))},vt=function(t){E.selectAll("."+t.className).attr("x",(function(t){return W(t.x)})).attr("width",(function(t){return W(t.y)-W(t.x)}))},xt=function(t){E.selectAll(".line"+t.className).attr("d",rt.x((function(t){return W(t.x)}))),(F?E.selectAll("."+t.className).transition().duration(500):E.selectAll("."+t.className)).attr("x",(function(t){return W(t.x-.4)})).attr("width",(function(t){return W(t.x+.4)-W(t.x-.4)<2?2:W(t.x+.4)-W(t.x-.4)}))},yt=function(t){E.selectAll(".line"+t.className).attr("d",nt.x((function(t){return W(t.x)})).y((function(e){return 10*-e.y+t.height}))),(F?E.selectAll("."+t.className).transition().duration(500):E.selectAll("."+t.className)).attr("d",nt.y((function(e){return 10*-e.y+t.height})))},bt=function(t){it.range([0,-t.height]).domain([0,-t.level]),E.selectAll(".line"+t.className).attr("d",at.y((function(e){return 10*it(-e.y)+t.shift}))),(F?E.selectAll("."+t.className).transition().duration(500):E.selectAll("."+t.className)).attr("d",at.y((function(e){return 10*it(-e.y)+t.shift})).interpolate(t.interpolation))},At=function(t,e){(F?E.selectAll("."+t.className).transition().duration(500):E.selectAll("."+t.className)).attr("x",(function(t,n){return W(n+e)}))},wt=d3.svg.brush().x(W).on("brushend",Et);function Et(){if(d3.select(e).selectAll("div.selectedRect").remove(),0!==Object.keys(B).length&&B.constructor===Object){if(d3.select(B.id).style("fill",B.originalColor),B={},CustomEvent){var n=new CustomEvent(c.events.FEATURE_DESELECTED_EVENT,{detail:{info:"feature-deselected"}});h.dispatchEvent(n)}else console.warn("CustomEvent is not defined....");c.trigger&&c.trigger(c.events.FEATURE_DESELECTED_EVENT,{info:"feature-deselected"})}var a=wt.extent(),i=Math.abs(a[0]-a[1]);if(a[0]<a[1])var r=parseInt(a[0]-1),o=parseInt(a[1]+1);else r=parseInt(a[1]+1),o=parseInt(a[0]-1);var s=Y(i);if(!wt.empty()&&i>I){D.length=i;var l=(x/i).toFixed(1);$(e+" .zoomUnit").text(l.toString()),b.showSequence&&!v&&s&&E.selectAll(".AA").empty()&&(D={length:i,start:r,end:o},C=r,E.selectAll(".sequenceLine").remove(),ht.sequence(t.substring(r-1,o),20,C-1)),W.domain(a),X.range(a);var d=C||A.start;Ot(y,d),kt(),CustomEvent&&h.dispatchEvent(new CustomEvent(c.events.ZOOM_EVENT,{detail:{start:r,end:o,zoom:l}})),c.trigger&&c.trigger(c.events.ZOOM_EVENT,{start:r,end:o,zoom:l}),d3.select(e).selectAll(".brush").call(wt.clear())}else d3.select(e).selectAll(".brush").call(wt.clear())}this.zoom=function(t,e){D.start<t&&D.end>e||E.selectAll(".seqGroup").remove(),wt.extent([t,e]),Et()},this.resetZoom=function(t,e){jt()};var Nt=function(){!function(){G=$(e).width()-H-L-17,d3.select(e+" svg").attr("width",G+H+L),d3.select(e+" #clip>rect").attr("width",G),b.brushActive&&d3.select(e+" .background").attr("width",G),d3.select(e).selectAll(".brush").call(wt.clear());var n=Y(D.length);b.showSequence&&!v&&(!1!==n||E.selectAll(".AA").empty()?!0===n&&E.selectAll(".AA").empty()&&(E.selectAll(".sequenceLine").remove(),ht.sequence(t.substring(D.start-1,D.end),20,D.start-1)):(E.selectAll(".seqGroup").remove(),ht.sequenceLine())),W.range([5,G-5]),X.domain([0,G]),Ot(y,D.start),kt()}()};function jt(){$(".zoomUnit").text("1"),W.domain([A.start,A.end]),X.range([A.start,A.end]);var n=Y(A.end-A.start);b.showSequence&&!v&&(!1!==n||E.selectAll(".AA").empty()?D.length===x||!0!==n||E.selectAll(".AA").empty()||(E.selectAll(".seqGroup").remove(),ht.sequence(t.substring(A.start-1,A.end),20,A.start)):(E.selectAll(".seqGroup").remove(),ht.sequenceLine())),D={length:A.end-A.start,start:A.start,end:A.end},C=0,Ot(y,A.start),kt(),CustomEvent&&h.dispatchEvent(new CustomEvent(c.events.ZOOM_EVENT,{detail:{start:1,end:t.length,zoom:1}})),c.trigger&&c.trigger(c.events.ZOOM_EVENT,{start:1,end:t.length,zoom:1}),d3.select(e).selectAll(".brush").call(wt.clear())}function Ot(t,e){t.forEach((function(t){"rect"===t.type?gt(t):"multipleRect"===t.type?vt(t):"unique"===t.type?xt(t):"path"===t.type?yt(t):"line"===t.type?bt(t):"text"===t.type&&At(t,e)}))}function kt(){E.transition().duration(500).select(".x.axis").call(ot)}function Pt(){var t=[].concat(V);if(t.length>0){var e=t.length-1;""!=t[e].originalAminoAcid&&""!=t[e].variantAminoAcid||t.splice(e,1)}t=[].concat(o(t),_),CustomEvent&&h.dispatchEvent(new CustomEvent(c.events.VARIANT_ADDED_EVENT,{detail:t})),c.trigger&&c.trigger(c.events.VARIANT_ADDED_EVENT,t)}function St(){var t=V.map((function(t){t.id;var e=r(t,l);return a({},e)}));if(t.length>0){var e=t.length-1;""!=t[e].originalAminoAcid&&""!=t[e].variantAminoAcid||t.splice(e,1)}t=[].concat(o(t),_),CustomEvent&&h.dispatchEvent(new CustomEvent(c.events.GET_PREDICTIONS_EVENT,{detail:t})),c.trigger&&c.trigger(c.events.GET_PREDICTIONS_EVENT,t)}$(window).on("resize",Nt),this.addRectSelection=function(t){var n,a,i,r,o=d3.select(t),s=o.data(),l=b.brushActive?d3.select(".background").attr("width"):E.node().getBBox().width;d3.select("body").selectAll("div.selectedRect").remove(),q(t,{type:o[0][0].tagName,color:o.style("fill")});var c=d3.select(e).append("div").attr("class","selectedRect");3===s[0].length?(n=s[0][0].x,a=s[0][1].x):s[0].x===s[0].y?(n=s[0].x-.5,a=s[0].y+.5):(n=s[0].x,a=s[0].y),W(n)<0?(i=H,r=W(a)):W(a)>l?(i=W(n)+H,r=l-W(n)):(i=W(n)+H,r=W(a)-W(n)),c.style({left:i+"px",top:"60px","background-color":"rgba(0, 0, 0, 0.2)",width:r+"px",height:T+50+"px",position:"absolute","z-index":-1,"box-shadow":"0 1px 2px 0 #656565"})},function(e,n){if("undefined"===typeof n&&(n={showAxis:!1,showSequence:!1,brushActive:!1,verticalLine:!1,toolbar:!1,bubbleHelp:!1,unit:"units",zoomMax:50}),$.fn.popover||(n.bubbleHelp=!1,console.warn("The bubble help requires tooltip and popover bootstrap js libraries. The feature viewer will continue to work, but without the info bubble")),n.zoomMax&&(I=n.zoomMax),n.unit||(n.unit="units"),n.animation&&(F=n.animation),!0===n.toolbar){var a=$(e+" .svgHeader").length?d3.select(e+" .svgHeader"):d3.select(e).append("div").attr("class","svgHeader");if(!$(e+" .header-position").length){var i=a.append("div").attr("class","header-position").style("display","inline-block").style("margin","15px 10px 0px").style("padding","0px").style("line-height","32px");i.append("div").attr("class","position-label").style("padding","0px 5px").style("display","inline-block").style("padding","0px").style("font-weight","700").text("Position  :  "),i.append("div").style("display","inline-block").style("padding","0px").style("padding-left","5px").append("div").style("min-width","50px").attr("id","zoomPosition").text("0")}$(e+" .header-zoom").length||((r=a.append("div").attr("class","header-zoom").style("display","inline-block").style("margin","15px 0px 0px").style("padding","0px").style("line-height","32px")).append("div").attr("class","zoom-label").style("padding","0px 5px").style("display","inline-block").style("padding","0px").style("font-weight","700").text("Zoom : "),r.append("div").style("display","inline-block").style("padding","0px").append("div").style("min-width","50px").style("padding-left","5px").append("span").text("x ").append("span").attr("class","zoomUnit").text("1"));var r=$(e+" .header-zoom").length?d3.select(e+" .header-zoom"):a;if(!0===n.bubbleHelp&&!$(e+" .header-help").length){var o="<div><strong>To zoom in :</strong> Left click to select area of interest</div><div><strong>To zoom out :</strong> Right click to reset the scale</div><div><strong>Zoom max  :</strong> Limited to <strong>"+I.toString()+" "+n.unit+"</strong></div>";r.append("div").style("display","inline-block").style("margin","0px").style("margin-right","5px").style("padding","0px").append("a").attr("type","button").attr("class","header-help").attr("data-toggle","popover").attr("data-placement","auto left").attr("title","Help").attr("data-content",o).style("font-size","14px").append("span").attr("class","label label-as-badge label-info").style("font-weight","500").style("border-radius","3px").style("box-shadow","inset 0px 0px 4px rgba(0,0,0,0.10)").style("color","#fff").html("<span class='state'>Show</span> help"),$((function(){$('[data-toggle="popover"]').popover({html:!0}),$(e+" .header-help").on("hide.bs.popover",(function(){$(this).find(".state").text("Show")})),$(e+" .header-help").on("show.bs.popover",(function(){$(this).find(".state").text("Hide")}))}))}}if(!$(e+" .variantHeader").length){var l=function(e,n,a){var i=V.findIndex((function(t){return t.id==a}));switch(e=e.split(" /")[0],console.log(e,n,a),console.log(i),console.log(V),n){case"nextprotPosition":var r=t.charAt(Number(e)-1);$("#".concat(a,"-original")).text((function(){return"".concat(r," / ").concat(m[r])})),V[i].originalAminoAcid=r,V[i].nextprotPosition=Number(e),d(r,V[i].variantAminoAcid)||(V[i].variantAminoAcid="",$("#".concat(a,"-variant")).text("Select variant"));break;case"variantAminoAcid":if(!d(V[i].originalAminoAcid,e))break;V[i].variantAminoAcid=e}},c=function(){$("#multiple-add-variant-btn").attr("disabled",!0);var e={id:C,nextprotPosition:"",originalAminoAcid:"",variantAminoAcid:""};V.push(e);var n=_.append("div").attr("class","input-wrapper");n.append("input").attr("type","checkbox").attr("class","input-checkbox").attr("id",(function(){return C})),n.append("input").attr("class","popup-input").attr("maxlength","5").attr("id",(function(){return C+"-nextprotPosition"})).attr("type","number").attr("value",(function(t,e){return e})).on("change",(function(e){var n=d3.select(this).property("value");if(!(n>t.length)){d3.select(this).attr("value",n);var a=d3.select(this).property("id").split("-")[0];l(n,"nextprotPosition",a)}})),n.append("span").attr("id",(function(){return C+"-original"})).attr("class","original-input").text("0");var a=n.append("div").attr("class","dropdown");a.append("button").attr("class","dropdown-btn").attr("id",(function(){return C+"-variant"})).text("Select variant").on("click",(function(){var t=$(this).attr("id");$("div.dropdown-content").not("#".concat(t,"-dropdown")).hide(),$("#".concat(t,"-dropdown")).toggle()})),a.append("div").attr("class","bottom-arrow-icon").html(f);var i=a.append("div").attr("id",(function(){return C+"-variant-dropdown"})).attr("class","dropdown-content");i.append("input").attr("placeholder","Search...").attr("id","dropdown-search-input").on("keyup",(function(){var t,e,n;for(t=document.getElementById("dropdown-search-input").value.toUpperCase(),e=document.getElementById("dropdown-options").getElementsByTagName("p"),n=0;n<e.length;n++)txtValue=e[n].textContent||e[n].innerText,txtValue.toUpperCase().indexOf(t)>-1?e[n].style.display="":e[n].style.display="none"}));var r=i.append("div").attr("class","dropdown-option-container").attr("id","dropdown-options");Object.entries(m).forEach((function(t){var e=s(t,2),n=e[0],a=e[1];r.append("p").attr("class","dropdown-options").attr("id","".concat(n," / ").concat(a)).text("".concat(n," / ").concat(a))})),C++},d=function(t,e){if(t===e)return x(!0),$("#multiple-add-variant-btn").attr("disabled",!0),!1;x(!1);var n=$(".input-container").children(":last").children(":last").children(":first").text(),a=$(".input-container").children(":last").children(".popup-input").attr("value");return""!=n&&"Select variant"!=n&&0!=a&&$("#multiple-add-variant-btn").attr("disabled",!1),!0},x=function(t){D=t?"Original value cannot be same as variant":"",$("#variant-error").text(D)},j=function(t){B.style("display",t?"block":"none")},P=($(e+" .svgHeader").length?d3.select(e+" .svgHeader"):d3.select(e).append("div").attr("class","svgHeader")).append("div").style("position","relative").style("display","flex").style("column-gap","1rem"),R=!0,C=0,D="";P.append("span").attr("class","add-variant-btn").style("margin-left","auto").text("+ Add Multiple Variants").on("click",(function(){j(R),0===V.length&&c(),R=!R}));var B=P.append("div").attr("class","multiple-variant-popup");B.html('<p>Enter the variants</p><div class="header"><input type="checkbox" id="select-all-variant" />'.concat(u,"<p>Position</p><p>Original</p><p>Variant</p></div>")),$(".delete-icon").on("click",(function(){if($(".input-wrapper input:checkbox").each((function(){var t=$(this);if(t.is(":checked")){var e=$(this).attr("id");t.parent().remove();var n=V.findIndex((function(t){return t.id==e}));V.splice(n,1)}})),0===V.length){C=0,x(!1);var t={id:C,nextprotPosition:"",originalAminoAcid:"",variantAminoAcid:""};V.push(t),c()}Pt()})),$("#select-all-variant").on("click",(function(){$(".input-wrapper input:checkbox").prop("checked",this.checked)})),B.append("svg").attr("height","1.5rem").attr("width","1.5rem").attr("class","cancel-icon").on("click",(function(){R=!R,j(!1)})).attr("viewBox","0 0 500 620").html(p);var _=B.append("div").attr("class","input-container");$(document).on("click",".dropdown-options",(function(){var t=$(this).attr("id");$(".dropdown-content").hide();var e=$(this).parent().parent().attr("id").split("-")[0];$(this).parent().parent().parent().children("button").text((function(){return t})),l(t,"variantAminoAcid",e)})),B.append("div").attr("id","variant-error").text("");var q=B.append("div").attr("class","multiple-variant-btn-container");q.append("button").attr("class","add-variant-btn").attr("id","multiple-add-variant-btn").attr("disabled",!0).text("+").on("click",(function(){Pt(),c()})),q.append("span").text("Get Predictions").attr("class","get-predictions-btn").on("click",(function(){St()})),P.append("span").attr("class","get-predictions-btn").text("Get Predictions").on("click",(function(){St()}))}w=d3.select(e).append("svg").attr("width",G+H+L).attr("height",U+z+M).style("z-index","2").on("contextmenu",(function(t,e){d3.event.preventDefault(),jt()})),h=g.getElementsByTagName("svg")[0];var W=(E=w.append("g").attr("id","svg-container").attr("transform","translate("+H+","+z+")")).append("defs");W.append("clipPath").attr("id","clip").append("rect").attr("width",G).attr("height",U);var Z=W.append("filter").attr("id","dropshadow").attr("height","200%");Z.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur"),Z.append("feOffset").attr("in","blur").attr("dx",-2).attr("dy",2).attr("result","offsetBlur");var K,Q=Z.append("feMerge");Q.append("feMergeNode").attr("in","offsetBlur"),Q.append("feMergeNode").attr("in","SourceGraphic"),E.on("mousemove",(function(){var a=b.brushActive?d3.mouse(d3.select(".background").node()):d3.mouse(E.node());O=Math.round(X(a[0])),k=O,n.positionWithoutLetter||(O+=t[O-1]||""),$(e+" #zoomPosition").text(O)})),"undefined"!==typeof n.dottedSequence&&(b.dottedSequence=n.dottedSequence),n.showSequence&&!v&&(b.showSequence=!0,Y(A.end-A.start)?ht.sequence(t.substring(A.start-1,A.end),T,A.start):ht.sequenceLine(),y.push({data:t,name:"Sequence",className:"AA",color:"black",type:"text"}),S.push({title:"Sequence",y:T-8})),n.showAxis&&(K=T,E.append("g").attr("class","x axis Xaxis").attr("transform","translate(0,"+(K+20)+")").call(ot)),N=w.append("g").attr("class","pro axis").attr("transform","translate(0,"+z+")"),dt(),n.brushActive&&(b.brushActive=!0,E.append("g").attr("class","brush").call(wt).selectAll("rect").attr("height",T+50)),n.verticalLine&&(b.verticalLine=!0,function(){var t=d3.select(".chart").append("div").attr("class","Vline").style("position","absolute").style("z-index","19").style("width","1px").style("height",T+50+"px").style("top","30px").style("background","#000");d3.select(".chart").on("mousemove.Vline",(function(){mousex=d3.mouse(this)[0]-2,t.style("left",mousex+"px")}))}()),lt(T)}(e,n),$(".seqGroup").appendTo($("#svg-container")),this.addFeature=function(t){var e;T+=20,y.push(t),ht.typeIdentifier(t),dt(),e=T,E.selectAll(".Xaxis").attr("transform","translate(0,"+(e+20)+")"),lt(T),b.brushActive&&E.selectAll(".brush rect").attr("height",T+50),b.verticalLine&&d3.selectAll(".Vline").style("height",T+50+"px"),d3.selectAll(".element")[0].length>1500&&(F=!1)},this.clearInstance=function(){$(window).off("resize",Nt),w=null,h=null,E=null,j=null,N=null,y=null,sbcRip=null,d3.helper={}}})},51:function(t,e,n){},56:function(t,e,n){},69:function(t,e){t.exports={crossIcon:'    <svg\nxmlns="http://www.w3.org/2000/svg"\nwidth="512"\nheight="512"\nfill="none"\nviewBox="0 0 512 512"\n>\n<path fill="#7D7D7D" d="M94 101H405V382H94z"></path>\n<path\n  fill="#DFDFDF"\n  d="M256 0C114.61 0 0 114.61 0 256s114.61 256 256 256c141.38 0 256-114.61 256-256S397.39 0 256 0zm87.72 307c13.06 12.28 17.61 26.86 4.11 40.55-13.5 13.69-28 9.52-40.57-3.41l-52.08-53.6c-18.33 19.5-34.31 36.71-50.52 53.69-12.47 13.07-27.19 16.91-40.53 3.18s-8.6-28.24 4.38-40.55c16.54-15.7 33.06-31.41 56.4-53.59-20.08-17-38.19-31.84-55.64-47.38-14-12.48-19.23-27.9-4.12-42.21 14-13.22 28.46-7.8 40.57 5.12 15.57 16.61 31.06 33.28 50.39 54 20-21.34 35.94-38.68 52.21-55.74 11.81-12.39 26-15.48 38.77-3.31 13.88 13.24 10.45 27.93-2.62 40.51-16.95 16.31-34.17 32.32-55.13 52.1 20.1 18.64 37.31 34.56 54.38 50.64z"\n></path>\n</svg>',deleteIcon:'<svg\nclass="delete-icon"\nxmlns="http://www.w3.org/2000/svg"\nx="0"\ny="0"\nviewBox="0 0 7 10.583"\n>\n<g color="#000" fontFamily="sans-serif">\n  <path\n    style={{\n      lineHeight: "normal",\n      fontVariantLigatures: "normal",\n      fontVariantPosition: "normal",\n      fontVariantCaps: "normal",\n      fontVariantNumeric: "normal",\n      fontVariantAlternates: "normal",\n      fontVariantEastAsian: "normal",\n      fontFeatureSettings: "normal",\n      fontVariationSettings: "normal",\n      WebkitTextIndent: "0",\n      textIndent: "0",\n      WebkitTextAlign: "start",\n      textAlign: "start",\n      WebkitTextDecorationLine: "none",\n      textDecorationLine: "none",\n      WebkitTextDecorationStyle: "solid",\n      textDecorationStyle: "solid",\n      WebkitTextDecorationColor: "#000000",\n      textDecorationColor: "#000000",\n      WebkitTextTransform: "none",\n      textTransform: "none",\n      WebkitTextOrientation: "mixed",\n      textOrientation: "mixed",\n      whiteSpace: "normal",\n      shapePadding: "0",\n      shapeMargin: "0",\n      inlineSize: "0",\n      isolation: "auto",\n      mixBlendMode: "normal",\n      solidColor: "#000000",\n      solidOpacity: "1",\n    }}\n    d="M3.506-52.386a.796.796 0 00-.793.792v.264H.799a.265.265 0 100 .529h.474l.315 4.672c.042.619.525 1.15 1.168 1.15H5.71c.643 0 1.125-.531 1.168-1.15l.316-4.672h.473a.265.265 0 100-.53H5.754v-.263a.796.796 0 00-.793-.792zm0 .529H4.96c.151 0 .263.112.263.263v.264H3.24v-.264c0-.15.115-.263.266-.263zM1.8-50.801h4.865l-.313 4.635c-.026.38-.283.658-.641.658H2.756c-.358 0-.615-.279-.64-.658z"\n    enableBackground="accumulate"\n    overflow="visible"\n    transform="translate(0 52.916)"\n  ></path>\n  <path\n    style={{\n      lineHeight: "normal",\n      fontVariantLigatures: "normal",\n      fontVariantPosition: "normal",\n      fontVariantCaps: "normal",\n      fontVariantNumeric: "normal",\n      fontVariantAlternates: "normal",\n      fontVariantEastAsian: "normal",\n      fontFeatureSettings: "normal",\n      fontVariationSettings: "normal",\n      WebkitTextIndent: "0",\n      textIndent: "0",\n      WebkitTextAlign: "start",\n      textAlign: "start",\n      WebkitTextDecorationLine: "none",\n      textDecorationLine: "none",\n      WebkitTextDecorationStyle: "solid",\n      textDecorationStyle: "solid",\n      WebkitTextDecorationColor: "#000000",\n      textDecorationColor: "#000000",\n      WebkitTextTransform: "none",\n      textTransform: "none",\n      WebkitTextOrientation: "mixed",\n      textOrientation: "mixed",\n      whiteSpace: "normal",\n      shapePadding: "0",\n      shapeMargin: "0",\n      inlineSize: "0",\n      isolation: "auto",\n      mixBlendMode: "normal",\n      solidColor: "#000000",\n      solidOpacity: "1",\n    }}\n    d="M3.44-49.742a.265.265 0 00-.264.265v2.645a.265.265 0 00.263.266.265.265 0 00.266-.266v-2.645a.265.265 0 00-.266-.265zM5.027-49.742a.265.265 0 00-.265.265v2.645a.265.265 0 00.265.266.265.265 0 00.264-.266v-2.645a.265.265 0 00-.264-.265z"\n    enableBackground="accumulate"\n    overflow="visible"\n    transform="translate(0 52.916)"\n  ></path>\n</g><svg>',bottomArrowIcon:'<svg\nxmlns="http://www.w3.org/2000/svg"\nx="0"\ny="0"\nenableBackground="new 0 0 48 48"\nviewBox="0 0 48 60"\n>\n<path d="M47.8 7.1C47.4 6.4 46.7 6 46 6H2C1.3 6 .6 6.4.2 7.1s-.3 1.5.1 2.1l22 32c.4.5 1 .9 1.6.9s1.3-.3 1.6-.9l22-32c.6-.7.6-1.5.3-2.1z"></path>\n</svg>'}},70:function(t,e){t.exports={dropdownOptions:{A:"Ala",R:"Arg",N:"Asn",D:"Asp",C:"Cys",E:"Glu",Q:"Gln",G:"Gly",H:"His",I:"Ile",L:"Leu",K:"Lys",M:"Met",F:"Phe",P:"Pro",S:"Ser",T:"Thr",W:"Trp",Y:"Tyr",V:"Val"}}},71:function(t,e,n){var a=n(28),i=(n(31),n(18).NXUtils),r=n(18).NXViewerUtils;function o(t,e,n){featuresForViewer=[];for(var a=0;a<t.length;a++){var o=i.convertMappingsToIsoformMap(t[a],e[a].name,e[a].filter),s=r.convertNXAnnotations(o,e[a]);featuresForViewer.push(s)}return featuresForViewer}function s(t,e){var n=this;return new Promise((function(a,i){Promise.all(function(t,e,n){var a=[];for(var i in e)switch(e[i]){case"sequence":a.push(t.getProteinSequence(n));break;case"antibody":a.push(t.getAntibody(n));break;case"isoform-mapping":a.push(t.getIsoformMapping(n));break;default:a.push(t.getAnnotationsByCategory(n,e[i]))}return a}(n.nxClient,t,n.entry)).then((function(t){!function(t,e){for(var n=e.isoform,a=0;a<t.length;a++)if(0!==Object.keys(t[a]).length&&t[a].hasOwnProperty(n)){var i=jQuery.extend({},t[a][n]);e.addFeature(i)}}(o(t,e),n),a(n)})).catch((function(t){console.log("Argh, broken: "+t.message),console.log("Error at line : "+t.stack)}))}))}"object"===typeof t.exports&&(t.exports=function(t,e,n,i){return t,new Promise((function(r,o){var l,c=e;if(e.startsWith("NX_")){var d=c.split("-")[1]?c:c.split("-")[0]+"-1",p=c.split("-")[0];t.getProteinSequence(p).then((function(e){var o=e.filter((function(t){return t.uniqueName===d}))[0].sequence;a.prototype.isoform=d,a.prototype.entry=p,a.prototype.nxClient=t,a.prototype.addNxFeature=s,l=new a(o,n,i),r(l)}))}}))})}},[[111,1,2]]]);
//# sourceMappingURL=main.9031b28f.chunk.js.map